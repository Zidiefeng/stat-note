<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Confidence Intervals | Inferential Statistics Notes</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Confidence Intervals | Inferential Statistics Notes" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Confidence Intervals | Inferential Statistics Notes" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="KS" />


<meta name="date" content="2020-07-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="clt.html"/>
<link rel="next" href="test.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a></li>
<li class="chapter" data-level="2" data-path="clt.html"><a href="clt.html"><i class="fa fa-check"></i><b>2</b> Central Limit Theorem(CLT) and Sampling</a><ul>
<li class="chapter" data-level="2.1" data-path="clt.html"><a href="clt.html#chapter-summary"><i class="fa fa-check"></i><b>2.1</b> Chapter Summary</a></li>
<li class="chapter" data-level="2.2" data-path="clt.html"><a href="clt.html#sampling-distribution-与-sampling-distribution"><i class="fa fa-check"></i><b>2.2</b> Sampling Distribution 与 Sampling Distribution</a></li>
<li class="chapter" data-level="2.3" data-path="clt.html"><a href="clt.html#standard-error"><i class="fa fa-check"></i><b>2.3</b> Standard Error</a></li>
<li class="chapter" data-level="2.4" data-path="clt.html"><a href="clt.html#central-limit-theoremclt"><i class="fa fa-check"></i><b>2.4</b> Central Limit Theorem(CLT)</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="conf-int.html"><a href="conf-int.html"><i class="fa fa-check"></i><b>3</b> Confidence Intervals</a><ul>
<li class="chapter" data-level="3.1" data-path="clt.html"><a href="clt.html#chapter-summary"><i class="fa fa-check"></i><b>3.1</b> Chapter Summary</a></li>
<li class="chapter" data-level="3.2" data-path="conf-int.html"><a href="conf-int.html#interval-estimate"><i class="fa fa-check"></i><b>3.2</b> Interval Estimate</a></li>
<li class="chapter" data-level="3.3" data-path="conf-int.html"><a href="conf-int.html#margin-of-error"><i class="fa fa-check"></i><b>3.3</b> Margin of Error</a></li>
<li class="chapter" data-level="3.4" data-path="conf-int.html"><a href="conf-int.html#confidential-interval"><i class="fa fa-check"></i><b>3.4</b> Confidential Interval</a></li>
<li class="chapter" data-level="3.5" data-path="conf-int.html"><a href="conf-int.html#confidence-level"><i class="fa fa-check"></i><b>3.5</b> Confidence Level</a></li>
<li class="chapter" data-level="3.6" data-path="conf-int.html"><a href="conf-int.html#required-sample-size-for-margin-of-error"><i class="fa fa-check"></i><b>3.6</b> Required sample size for margin of error</a></li>
<li class="chapter" data-level="3.7" data-path="conf-int.html"><a href="conf-int.html#exercises"><i class="fa fa-check"></i><b>3.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="test.html"><a href="test.html"><i class="fa fa-check"></i><b>4</b> Hypothesis Testing</a><ul>
<li class="chapter" data-level="4.1" data-path="clt.html"><a href="clt.html#chapter-summary"><i class="fa fa-check"></i><b>4.1</b> Chapter Summary</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Inferential Statistics Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="conf-int" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Confidence Intervals</h1>
<div id="chapter-summary" class="section level2">
<h2><span class="header-section-number">3.1</span> Chapter Summary</h2>
<div class="figure" style="text-align: center"><span id="fig:chap2-summary-fig1"></span>
<img src="graphs/2-1.JPG" alt="Chapter Summary" width="80%" />
<p class="caption">
Figure 3.1: Chapter Summary
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:chap2-summary-fig2"></span>
<img src="graphs/2-2.JPG" alt="Chapter Summary" width="80%" />
<p class="caption">
Figure 3.2: Chapter Summary
</p>
</div>
</div>
<div id="interval-estimate" class="section level2">
<h2><span class="header-section-number">3.2</span> Interval Estimate</h2>
<p>当我们希望对一个population的parameter（如mean）做出预测的时候, 通过预测这个parameter是否在一个range之中的方式更好（而不是point estimate）</p>
<div class="figure" style="text-align: center"><span id="fig:fig2-1"></span>
<img src="graphs/2-3.png" alt="Confidence interval" width="80%" />
<p class="caption">
Figure 3.3: Confidence interval
</p>
</div>
</div>
<div id="margin-of-error" class="section level2">
<h2><span class="header-section-number">3.3</span> Margin of Error</h2>
<p>margin of error = range一半对应的计量（若干个se）</p>
<div class="figure" style="text-align: center"><span id="fig:fig2-4"></span>
<img src="graphs/2-4.png" alt="Margin of error" width="80%" />
<p class="caption">
Figure 3.4: Margin of error
</p>
</div>
<p>例题1：</p>
<p>124情侣的研究表明，64.5%的人喜欢在接吻的时候向右歪头，se为4%</p>
<p>问下面说法那个错误：</p>
<div class="figure" style="text-align: center"><span id="fig:fig2-5"></span>
<img src="graphs/2-5.png" alt="Example" width="80%" />
<p class="caption">
Figure 3.5: Example
</p>
</div>
<p>这里应该选C，因为95%CI应该是64.5%+/- 8%，因为是加减2个SE</p>
<ul>
<li>margin of error = 1*se: 64.5% confidential interval(CI)</li>
<li>margin of error = 2*se: 95% CI</li>
<li>margin of error = 3*se: 99.7% CI</li>
</ul>
</div>
<div id="confidential-interval" class="section level2">
<h2><span class="header-section-number">3.4</span> Confidential Interval</h2>
<p>Confidential interval for a population mean:</p>
<p>当我们知道了sample mean的分布如何根据clt推导的时候，不需要进行多次sampling（用多组sample 来进行计算）</p>
<ul>
<li>在不知道population的standard deviation <code>σ</code>时，可以直接用这一组 sample standard deviation <code>s</code> 来估<code>σ</code>,然后 用<span class="math inline">\(s/sqrt(n)\)</span> 来估计standard error(即sample mean的standard deviation)</li>
<li>confidential interval: 这一组的sample mean加减 margin of error （z个se）</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:fig2-6"></span>
<img src="graphs/2-6.png" alt="Confidential Interval" width="80%" />
<p class="caption">
Figure 3.6: Confidential Interval
</p>
</div>
<p>注意这里的XX% 表示的是这个distribution的middle部分的%； 比如下图中想表达95% confidence level，因此对应的是中间的95%部分</p>
<div class="figure" style="text-align: center"><span id="fig:fig2-7"></span>
<img src="graphs/2-7.png" alt="Confidential Interval" width="80%" />
<p class="caption">
Figure 3.7: Confidential Interval
</p>
</div>
<p>在判断95% confidence level的时候，往往会用X的平均值+/-两个SE</p>
<p>这里其实并不严谨。严格来说，应该是1.96个SE</p>
<p>这里1.96是通过先计算得到未被覆盖的部分占总distribution的0.025，然后用这个0.025到表中（或用左下角的R function）找到对应的值-1.96，但由于是中心对称的，所以临界值其实对应的是正负1.96.</p>
<p>通常将正数的对应值成为critical value，也就是1.96.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">qnorm</span>(<span class="fl">0.025</span>)</code></pre></div>
<pre><code>## [1] -1.959964</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">qnorm</span>(<span class="dv">1</span><span class="op">-</span><span class="fl">0.025</span>)</code></pre></div>
<pre><code>## [1] 1.959964</code></pre>
</div>
<div id="confidence-level" class="section level2">
<h2><span class="header-section-number">3.5</span> Confidence Level</h2>
<p><strong>confidence level</strong></p>
<ul>
<li>如果做很多次sampling（每次固定observation个数），然后取其confidence interval</li>
<li>有多少比重的sample可以contain 真正的population mean</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:fig2-8"></span>
<img src="graphs/2-8.png" alt="Confidential Interval" width="80%" />
<p class="caption">
Figure 3.8: Confidential Interval
</p>
</div>
<p><strong>Accuracy</strong></p>
<ul>
<li>定义： whether or not the confidence interval contains the true population parameter.</li>
<li>例子： 这里假设取样25次，基于每次基于每个sample计算出对应的confidence interval，最后有24次都包含the true population mean(就是那个垂直的线)，这样就可以计算accuracy为24/25=0.96</li>
<li>如果我们测试足够多次数的sample，最后会得到the percentage of capturing the true population parameter 为95%</li>
<li>常用的confidence level为90%，95%，98%，99%</li>
</ul>
<p><strong>Precision</strong></p>
<ul>
<li><p>定义: how small is the width of a confidence interval</p></li>
<li><p>当confidence level越大，interval就越宽</p></li>
</ul>
<blockquote>
<p>The higher the confidence level, the larger the critical value, hence the larger the margin of error, and hence the width of the confidence interval.</p>
</blockquote>
<div class="figure" style="text-align: center"><span id="fig:fig2-9"></span>
<img src="graphs/2-9.png" alt="Confidential level" width="80%" />
<p class="caption">
Figure 3.9: Confidential level
</p>
</div>
<ul>
<li>Interval 越宽，precision 越小</li>
</ul>
<p>用一个比较wider interval的缺点是，不够precise，不够informative，就像这个例子中，如果告诉你明天的温度是-29到43°之间，accuracy一定很高，但是意义不大；</p>
<div class="figure" style="text-align: center"><span id="fig:fig2-10"></span>
<img src="graphs/2-10.png" alt="Precision" width="80%" />
<p class="caption">
Figure 3.10: Precision
</p>
</div>
<ul>
<li>如何 同时增加precision（缩小range） 和 accuracy ： <strong>增加sample size</strong></li>
</ul>
<p>因为sample size变大，standard error变小，从而保证interval的width不会太宽，precision就不会因为accuracy上升而下降太多</p>
<ul>
<li>例题：</li>
</ul>
<p>针对1154 美国居民调查，95% confidence interval for the average 娱乐时间是3.53-3.73小时</p>
<div class="figure" style="text-align: center"><span id="fig:fig2-11"></span>
<img src="graphs/2-11.png" alt="Example 2" width="80%" />
<p class="caption">
Figure 3.11: Example 2
</p>
</div>
<ul>
<li>A 不对是因为没有提到是基于sample中的结果，confidence interval并不是关于population中的individual的，而是关于the true population parameter (如population mean)的</li>
<li>B就很好，解释了有95%的Confidence interval认为包含true population mean</li>
<li>C错是在于，true population parameter是一个定值，不是一个会一会在interval一会不在interval的moving target</li>
<li>D(最容易选错)错在，confidence interval不是关于sample mean的，而是关于population mean；除此之外，这个选项说有95%的confidence认为sample mean在3.53到3.83之间，但其实应该是100%，因为条件中表明了confidence level是这两个数，表明这两个数是sample mean的distribution的一部分，即这两个数一定是在这个区间内的。因此错</li>
</ul>
</div>
<div id="required-sample-size-for-margin-of-error" class="section level2">
<h2><span class="header-section-number">3.6</span> Required sample size for margin of error</h2>
<p>据以下条件，我们可以算得desired margin of error 所需要的sample size:</p>
<ul>
<li>target margin of error</li>
<li>confidence level</li>
<li>variability of the sample/population</li>
</ul>
<p>其他条件不变的情况下，sample size越大，margin of error越小</p>
<div class="figure" style="text-align: center"><span id="fig:fig2-12"></span>
<img src="graphs/2-12.png" alt="A given ME" width="80%" />
<p class="caption">
Figure 3.12: A given ME
</p>
</div>
</div>
<div id="exercises" class="section level2">
<h2><span class="header-section-number">3.7</span> Exercises</h2>
<ul>
<li>例题(1)</li>
</ul>
<p>三岁小孩的IQ的SD：18分</p>
<p>问: sample要多大才能obtain 90% confidence interval with a margin of error &lt;= 4 points?</p>
<p>代入公式: z* 18/sqrt(n) = 4</p>
<div class="figure" style="text-align: center"><span id="fig:fig2-13"></span>
<img src="graphs/2-13.png" alt="Exercise 1" width="80%" />
<p class="caption">
Figure 3.13: Exercise 1
</p>
</div>
<p>答： at least 55 samples</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 5%-95%</span>
(z &lt;-<span class="st">  </span><span class="kw">qnorm</span>(<span class="dv">1</span><span class="op">-</span><span class="fl">0.05</span>))</code></pre></div>
<pre><code>## [1] 1.644854</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(z<span class="op">*</span><span class="dv">18</span><span class="op">/</span><span class="dv">4</span>)<span class="op">**</span><span class="dv">2</span></code></pre></div>
<pre><code>## [1] 54.78725</code></pre>
<ul>
<li>例题(2)</li>
</ul>
<p>那如果我们要将margin of error降至2分，要如何变动sample size?</p>
<p>ME=z*sd/sqrt(n)</p>
<p>当ME下降一倍，sqrt(n)增加一倍，n增加四倍</p>
<div class="figure" style="text-align: center"><span id="fig:fig2-14"></span>
<img src="graphs/2-14.png" alt="Exercise 2" width="80%" />
<p class="caption">
Figure 3.14: Exercise 2
</p>
</div>
<ul>
<li>类似，问：如果让interval 下降为1/3，要如何调整n？</li>
</ul>
<p>答：interval的大小其实就是2倍的margin of error(ME), 让ME为1/3，即要求sqrt(n)增加3倍，那么n就要增加9倍</p>
<div class="figure" style="text-align: center"><span id="fig:fig2-15"></span>
<img src="graphs/2-15.png" alt="Exercise 3" width="80%" />
<p class="caption">
Figure 3.15: Exercise 3
</p>
</div>
<ul>
<li>例题 3</li>
</ul>
<p>基于1151人数据，人们在过去30天中，会有95% confidence interval of 3.40-4.24天感觉不开心</p>
<p>问：如何解释这里的interval</p>
<p>（答案如下）</p>
<div class="figure" style="text-align: center"><span id="fig:fig2-16"></span>
<img src="graphs/2-16.png" alt="Exercise 3" width="80%" />
<p class="caption">
Figure 3.16: Exercise 3
</p>
</div>
<ul>
<li>confidence interval (CI)== point estimate +- margin of error</li>
<li>CI 是关于 unknown population mean的</li>
<li><p>CI (95%), tells us how confident we are, <strong>that this particular interval captures that mean</strong></p></li>
<li><p>例题4</p></li>
</ul>
<p>50个sample学生显示，sample mean是3.2个亲密关系的人，SD是1.74个，这里的sample dist有点skewed to the right</p>
<p>问：estimate true average based on this sample using 95% CI</p>
<p>答：</p>
<p>我们可以用CLT：</p>
<ul>
<li>这里因为sample数（50）&gt;30 且 只是slightly skewed,可以assume the sampling distribution of average number 是nearly normal</li>
<li>50学生，我们假设&gt;10%,所以符合independent</li>
<li>sample是random selected</li>
</ul>
<p>ME = z*SD/sqrt(n)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># 2.5%-97.5%</span>
sd=<span class="fl">1.74</span>
n=<span class="dv">50</span>
z=<span class="kw">qnorm</span>(<span class="dv">1</span><span class="op">-</span><span class="fl">0.025</span>)
sample_mean=<span class="fl">3.2</span>
(ME &lt;-<span class="st"> </span>z<span class="op">*</span>sd<span class="op">/</span>(n<span class="op">**</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">2</span>)))</code></pre></div>
<pre><code>## [1] 0.4822945</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;confidence interval:&quot;</span>,sample_mean<span class="op">-</span>ME,<span class="st">&quot;~&quot;</span>,sample_mean<span class="op">+</span>ME))</code></pre></div>
<pre><code>## [1] &quot;confidence interval: 2.71770546912631 ~ 3.68229453087369&quot;</code></pre>
<div class="figure" style="text-align: center"><span id="fig:fig2-171"></span>
<img src="graphs/2-17.png" alt="Exercise 4" width="80%" />
<p class="caption">
Figure 3.17: Exercise 4
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:fig2-172"></span>
<img src="graphs/2-18.png" alt="Exercise 4" width="80%" />
<p class="caption">
Figure 3.18: Exercise 4
</p>
</div>
<ul>
<li>例题5</li>
</ul>
<p>random sample: 100 runners, 跑完10mile的平均速度是95 min，95% CI是92min-98min，问下面哪个不对：</p>
<p>注意下面2中正确的说法应该是：</p>
<blockquote>
<p>CI: we are XX% confident that the true population parameter is in this interval</p>
</blockquote>
<div class="figure" style="text-align: center"><span id="fig:fig2-19"></span>
<img src="graphs/2-19.png" alt="Exercise 5" width="80%" />
<p class="caption">
Figure 3.19: Exercise 5
</p>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="clt.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="test.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-conf-interval.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
